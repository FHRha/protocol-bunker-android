import type { GameEventKind } from "@bunker/shared";
import { RULESET_PRESET_COUNTS } from "@bunker/shared";

export const ru = {
  appTitle: "Протокол: Бункер",
  appSubtitle: "",
  devBadge: "DEV: вкладка = игрок",
  themeToggleLight: "Светлая тема",
  themeToggleDark: "Тёмная тема",
  statusOnline: "Онлайн",
  statusOffline: "Оффлайн",
  statusReconnecting: "Переподключение",
  statusReconnectHint: "Связь потеряна, пробуем восстановить…",
  statusOfflineHint: "Нет соединения. Проверь интернет.",
  roleHost: "Создатель",
  roleControl: "Ведущий",
  rolePlayer: "Игрок",
  errorReconnectFailed: "Не удалось восстановить игрока. Перезайдите в комнату.",
  errorReconnectNetwork: "Не удалось переподключиться. Проверь соединение.",
  errorWebSocket: "Соединение WebSocket не установлено.",
  homeTitle: "Добро пожаловать в «Протокол: Бункер»",
  homeSubtitle: "Создай комнату или зайди по коду. Сценарий выбирается при создании.",
  nameTitle: "Твоё имя",
  namePlaceholder: "Например, Алекс",
  createRoomTitle: "Создать комнату",
  joinRoomTitle: "Войти в комнату",
  joinRoomPlaceholder: "Код комнаты",
  createButton: "Создать комнату",
  joinButton: "Войти",
  scenariosLoading: "Загружаем сценарии...",
  devHint: "DEV режим: токен отключён, каждая вкладка = новый игрок.",
  prodHint: "Если у тебя есть сохранённый token, он будет использован автоматически.",
  lobbyTitle: "Лобби",
  lobbyLoading: "Ожидаем данные от сервера...",
  roomCodeTitle: "Код комнаты",
  roomCodeLabel: (code: string) => `Код комнаты: ${code}`,
  copyButton: "Копировать",
  copiedButton: "Скопировано",
  copyFailed: "Не удалось скопировать.",
  wsActionDisabledHint: "Недоступно при переподключении.",
  wsActionRetryHint: "Переподключение…",
  notificationTitle: "Уведомление",
  retryButton: "Повторить",
  roomFull: (max: number) => `Комната заполнена (макс ${max}).`,
  roomFullUnknown: "Комната заполнена.",
  showSecret: "Показать",
  hideSecret: "Скрыть",
  hiddenValue: "••••••••",
  scenarioLabel: (name: string) => `Сценарий: ${name}`,
  playersTitle: "Игроки",
  lobbyKickTitle: "Кикнуть игрока",
  lobbyKickSelectPlaceholder: "Выберите игрока",
  lobbyKickButton: "Кикнуть",
  hostMarker: " (создатель)",
  offlineMarker: " (оффлайн)",
  startButton: "Старт",
  hostOnlyHint: "Только создатель (CONTROL) может начать игру.",
  onboardingTitle: "Как играть (30 секунд)",
  onboardingShow: "Показать",
  onboardingHide: "Скрыть",
  onboardingStep1: "Введите имя и зайдите по коду.",
  onboardingStep2: "Ждите старта от ведущего.",
  onboardingStep3: "В игре выбирайте категорию и раскрывайте карту, обсуждайте, потом голосуйте.",
  onboardingStep4: "Кто жмёт “Продолжить”, зависит от настройки “Кто может продолжить кон”.",
  openButton: "Открыть",
  settingsTitle: "Настройки игры",
  settingsTimersBlock: "Таймеры",
  settingsOtherBlock: "Прочее",
  settingsRevealDiscussionTimer: "Обсуждение после раскрытия",
  settingsPreVoteTimer: "Обсуждение до голосования",
  settingsPostVoteTimer: "Обсуждение после голосования",
  settingsContinuePermission: "Кто может продолжить кон",
  settingsContinueHost: "Только ведущий (CONTROL)",
  settingsContinueRevealer: "Игрок, который раскрыл",
  settingsContinueAnyone: "Все игроки",
  settingsRevealTimeoutAction: "При таймере раскрытия",
  settingsRevealTimeoutRandom: "Случайная карта",
  settingsRevealTimeoutSkip: "Пропустить игрока",
  settingsRevealsBeforeVoting: "Раскрытий до голосования",
  settingsSpecialUsage: "Спецусловия",
  settingsSpecialAnytime: "В любое время",
  settingsSpecialVotingOnly: "Только во время голосования",
  settingsMaxPlayers: "Лимит игроков",
  settingsFinalThreatReveal: "Кто открывает угрозы",
  settingsThreatHost: "Только ведущий (CONTROL)",
  settingsThreatAnyone: "Любой игрок",
  settingsOn: "вкл",
  settingsOff: "выкл",
  rulesTitle: "Правила Bunker 3.0",
  rulesNeedMinPlayers: "Нужно минимум 4 игрока.",
  rulesPlayers: (count: number) => `Игроков: ${count}`,
  rulesSeats: (count: number) => `Мест в бункере: ${count}`,
  rulesVotes: (votes: number[]) =>
    `Голосования по раундам: ${votes.join(" / ")}`,
  rulesExiles: (count: number) => `Всего изгнанных: ${count}`,
  rulesModeLabel: "Режим правил",
  rulesModeAuto: "Авто (по числу игроков)",
  rulesModeManual: "Вручную",
  rulesPresetLabel: "Шаблон по числу игроков",
  rulesPresetOptions: RULESET_PRESET_COUNTS,
  gameLoadingTitle: "Загрузка",
  gameLoadingText: "Переподключаемся и ждём данные игры...",
  gameNotStarted: "Игра не запущена",
  gameStatusTitle: "Статус игры",
  phaseLabel: "Фаза",
  roundLabel: "Раунд",
  revealedLabel: "Раскрыли",
  continueRoundButton: "Продолжить",
  turnLabel: (name: string) => `Ход игрока: ${name}`,
  roundProgressLabel: (round: number, revealed: number, total: number) =>
    `Раунд ${round}: раскрыли ${revealed} / ${total}`,
  roundVotesLabel: (count: number) => `Голосований в раунде: ${count}`,
  roundVoteIndexLabel: (current: number, total: number) => `Голосование ${current} из ${total}`,
  continueHintHost: "Продолжает ведущий (CONTROL)",
  continueHintRevealer: "Продолжает игрок, который раскрыл",
  continueHintAnyone: "Продолжить может любой игрок",
  timerLabel: (kind: string, seconds: number) => {
    const map: Record<string, string> = {
      reveal_discussion: "Обсуждение после раскрытия",
      pre_vote: "Обсуждение до голосования",
      post_vote: "Обсуждение после голосования",
    };
    return `${map[kind] ?? kind}: ${seconds}с`;
  },
  mandatoryCategory: (category: string) => `Обязательная категория: ${category}`,
  ruleNoTalk: "Правило: молчание до голосования",
  roomPill: (code: string) => `Комната: ${code}`,
  scenarioPill: (name: string) => `Сценарий: ${name}`,
  dossierTitle: "Твоё досье",
  dossierCardsTitle: "Карты досье",
  dossierSubtitle: "Ты всегда видишь все свои карты.",
  postGameRevealHint: "Игра завершена — можно открыть оставшиеся свои карты.",
  statusAlive: "В игре",
  statusEliminated: "Исключён",
  cardHidden: "Скрыто",
  cardRevealed: "Открыто",
  cardNoImage: "Нет карты",
  showLabel: "Показать",
  hideLabel: "Скрыть",
  selectLabel: "Выбрать",
  selectedLabel: "Выбрано",
  revealAction: "Раскрыть карту в этом раунде",
  revealPostGameAction: "Открыть оставшуюся карту",
  specialTitle: "Особые условия",
  triggerLabel: (trigger: string) => {
    const map: Record<string, string> = {
      active: "активируемая",
      onVote: "при голосовании",
      onOwnerEliminated: "при исключении владельца",
      onRevealOrActive: "при раскрытии",
      secret_onEliminate: "секретное условие",
    };
    return `Триггер: ${map[trigger] ?? trigger}`;
  },
  usedLabel: (used: boolean) => `Использовано: ${used ? "да" : "нет"}`,
  notImplemented: "Не реализовано",
  useSpecialButton: "Применить",
  votingTitle: "Голосование",
  selectPlayerPlaceholder: "Выберите игрока",
  voteButton: "Голосовать",
  alreadyVoted: "Вы уже проголосовали.",
  openVoting: "Открыть голосование",
  bunkerOutcomeSurvived: "Бункер выжил",
  bunkerOutcomeFailed: "Бункер не выжил",
  devKickButton: "Выгнать игрока",
  devKickTitle: "Выгнать игрока",
  devKickSelectPlaceholder: "Выберите игрока",
  devKickConfirm: "Выгнать",
  devKickNoTargets: "Нет доступных живых игроков.",
  devControlsTitle: "DEV действия",
  devSkipRoundButton: "Пропустить раунд",
  finalizeVoting: "Подвести итоги",
  votingSpecialAlert: "Во время голосования можно применить карты особых условий.",
  voteNotVoted: "Не голосовал",
  voteAgainst: (name: string) => `Голос: против ${name}`,
  voteInvalid: (reason: string) => `Голос отменён: ${reason}`,
  hostChangedYou: "Вы стали создателем комнаты.",
  hostChangedOther: (name: string) => `Новый создатель: ${name}.`,
  votingProgressText: (voted: number, total: number) => `Проголосовали ${voted}/${total}`,
  votePhaseLabel: (phase: string | null) => {
    const map: Record<string, string> = {
      voting: "Сбор голосов",
      voteSpecialWindow: "Спецусловия",
      voteResolve: "Подведение итогов",
    };
    return phase ? map[phase] ?? phase : "Голосования нет";
  },
  votingModalTitle: "Голосование",
  votingSummary: (name: string) => `Вы проголосовали против ${name}`,
  votingSummaryNone: "Вы ещё не голосовали.",
  voteCandidateTitle: "Карточки кандидата",
  voteCandidateHint: "Выберите игрока слева для просмотра раскрытых карт.",
  votingWindowHint: "Окно спецусловий: можно применить карты, влияющие на голосование.",
  votingResolveTitle: "Итоги голосования",
  votingResolveEmpty: "Ожидаем итоги...",
  noTargetCandidates: "Нет доступных целей.",
  exitButton: "Выйти",
  resolutionTitle: "Результат",
  resolutionWaiting: "Ожидаем итоги.",
  winnersTitle: "Победители",
  stageTitle: "Текущая стадия",
  noEvents: "Событий пока нет.",
  postGameSuccessTitle: "Поздравляем! Бункер выжил.",
  postGameFailedTitle: "К сожалению, бункер не выжил.",
  postGameSuccessText: "Игра завершена. Можно выйти в главное меню.",
  postGameFailedText: "Игра завершена. Можно выйти в главное меню.",
  boardTitle: "Табло игроков",
  boardSubtitle: "Рассадка игроков вокруг стола.",
  selectedPlayerTitle: "Выбранный игрок",
  selectedPlayerHint: "Выберите игрока",
  boardPlayerHeader: "Игрок",
  youBadge: "ты",
  moveDone: "Ход сделан",
  waitingMove: "Ждёт",
  voteCounted: "Голос учтён",
  leftTimeLabel: (time: string) => `Осталось ${time}`,
  modalCancel: "Отмена",
  closeButton: "Закрыть",
  modalApply: "Применить",
  modalSelect: "Выберите вариант",
  slotHidden: "Скрыто",
  toastKind: (kind: GameEventKind) => {
    const map: Record<GameEventKind, string> = {
      roundStart: "Раунд",
      votingStart: "Голосование",
      elimination: "Исключение",
      gameEnd: "Конец игры",
      info: "Инфо",
      playerDisconnected: "Выход",
      playerReconnected: "Возврат",
      playerLeftBunker: "Покинул",
    };
    return map[kind] ?? "Событие";
  },
  phaseText: (phase: string) => {
    const map: Record<string, string> = {
      reveal: "Раскрытие карт",
      reveal_discussion: "Обсуждение после раскрытия",
      voting: "Голосование",
      resolution: "Итоги",
      ended: "Завершено",
    };
    return map[phase] ?? phase;
  },
};


